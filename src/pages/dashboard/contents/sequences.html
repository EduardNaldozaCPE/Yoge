<div id="menu-wrapper">
    <div id="menu-seq-left">
        <div id="dash-header">
            <h1 id="header">Sequences</h1>
            <p class="colour-accent">Let's get started!</p>
        </div>
        <div id="sequence-list">
            <button class="sequence-card" sequence="general-fitness" onclick="updateSelect(this)">
                <img src="../../media/guides/1_02_UpwardSolute.png" alt="thumb" class="sequence-thumb">
                <div class="sequence-card-title">
                    <p class="colour-main">General Fitness Sequence (Sun Salutation A)</p>
                    <p class="colour-accent">Downward Dog</p>
                </div>
                <div class="proficiency-indicator" proficiency="beginner"></div>
            </button>
            <button class="sequence-card" sequence="core-strength" onclick="updateSelect(this)">
                <img src="../../media/guides/4_07_IntenseLegStretchPose.png" alt="thumb" class="sequence-thumb">
                <div class="sequence-card-title">
                    <p class="colour-main">Core Strength Sequence</p>
                    <p class="colour-accent">Boat Pose</p>
                </div>
                <div class="proficiency-indicator" proficiency="beginner"></div>
            </button>
            <button class="sequence-card" sequence="weight-loss" onclick="updateSelect(this)">
                <img src="../../media/guides/2_16_BoatPose.png" alt="thumb" class="sequence-thumb">
                <div class="sequence-card-title">
                    <p class="colour-main">Weight Loss Sequence</p>
                    <p class="colour-accent">Peak Pose</p>
                </div>
                <div class="proficiency-indicator" proficiency="intermediate"></div>
            </button>
            <button class="sequence-card" sequence="flexibility" onclick="updateSelect(this)">
                <img src="../../media/guides/3_07_EasyPoseVariationSideBend.png" alt="thumb" class="sequence-thumb">
                <div class="sequence-card-title">
                    <p class="colour-main">Flexibility Sequence</p>
                    <p class="colour-accent">Easy Pose Variation Side Bend</p>
                </div>
                <div class="proficiency-indicator" proficiency="advanced"></div>
            </button>
        </div>
    </div>
    <hr>
    <div id="menu-seq-info">
        <div id="info-header">
            <h3>General Fitness Sequence (Sun Salutation A)</h3>
            <p class="colour-accent">12 Poses (See Guide Videos)</p>
            <div class="proficiency-indicator" proficiency="beginner"></div>
        </div>
        <div id="info-recommendations">
            <div class="stat-title">
                <img src="../../media/titleblock.svg">
                <p>Recommendations</p>
            </div>
            <p>Tag 1, Tag 2, Tag 3</p>
        </div>
        <div id="info-latest-best">
            <div id="latest-score">
                <p>Latest Score</p>
                <h3>61</h3>
            </div>
            <div id="best-score">
                <p>Best Score</p>
                <h3>80</h3>
            </div>
        </div>
        <div id="info-scores">
            <div class="stat-title">
                <img src="../../media/titleblock.svg">
                <p>Score Per Pose</p>
            </div>
            <div class="tableFixHead">
                  <table>
                    <thead>
                      <tr>
                        <th>Sequence Name</th>
                        <th>Score</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>pose-name</td>
                        <td>82.23%</td>
                      </tr>
                      <tr alt="true">
                        <td>pose-name</td>
                        <td>74.28%</td>
                      </tr>
                      <tr>
                        <td>pose-name</td>
                        <td>93.29%</td>
                      </tr>
                      <tr alt="true">
                        <td>pose-name</td>
                        <td>74.28%</td>
                      </tr>
                      <tr>
                        <td>pose-name</td>
                        <td>93.29%</td>
                      </tr>
                      <tr alt="true">
                        <td>pose-name</td>
                        <td>74.28%</td>
                      </tr>
                      <tr>
                        <td>pose-name</td>
                        <td>82.23%</td>
                      </tr>
                      <tr alt="true">
                        <td>pose-name</td>
                        <td>74.28%</td>
                      </tr>
                      <tr>
                        <td>pose-name</td>
                        <td>93.29%</td>
                      </tr>
                      <tr alt="true">
                        <td>pose-name</td>
                        <td>74.28%</td>
                      </tr>
                      <tr>
                        <td>pose-name</td>
                        <td>93.29%</td>
                      </tr>
                      <tr alt="true">
                        <td>pose-name</td>
                        <td>74.28%</td>
                      </tr>
                      <tr>
                        <td>pose-name</td>
                        <td>93.29%</td>
                      </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <button id="info-startbtn" onclick="moveToSession()">Start</button>
    </div>
</div>
<script>
    // Select the sequence card in URL parameters on load
    _updateSequenceCards()

    // Include text for proficiency indicator
    $(".proficiency-indicator").each((i,e)=>{
        let proficiencyText = $(e).attr("proficiency");
        $(e).html(`<p>${proficiencyText.charAt(0).toUpperCase()}${proficiencyText.substring(1,proficiencyText.length)}</p>`);
    })

    /** 
     * Update the "sequence" parameter, then calls _updateSequenceCards
    */
    function updateSelect(elem) {
        params.set("sequence", $(elem).attr("sequence"));
        _updateSequenceCards()
    }

    /** 
     * Unselect the previously selected btn, and select the new one.
    */
    function _updateSequenceCards() {
        if (selectedSequence === undefined) var selectedSequence;
        selectedSequence = params.get("sequence");
        $(".sequence-card").each((i, e)=>{
            if (selectedSequence != $(e).attr("sequence")) {
                $(e).removeAttr("select");
            } else {
                $(e).attr("select", "true");
            }
        });
    }
</script>