<div id="scores-maincontent">
    <form action="#">
        <div class="custom-select">
            <select name="header-dropdown" id="header-dropdown">
                <option value="sequenceId-1">General Fitness Sequence (Sun Salutation A)</option>
                <option value="sequenceId-2">Weight Loss Sequence</option>
                <option value="sequenceId-3">Flexibility Sequence</option>
                <option value="sequenceId-4">Core Strength Sequence</option>
            </select>
        </div>
    </form>
    <div id="score-content">
        <div id="score-stats">
            <div id="score-widget">
                <div class="score-widget-score">
                    <canvas width="150" class="score-widget-canvas" id="score-widget-latest"></canvas>
                    <p>Latest Score</p>
                </div>
                
                <div class="score-widget-score">
                <canvas width="150" class="score-widget-canvas" id="score-widget-best"></canvas>
                    <p>Best Score</p>
                </div>
                
                <div class="score-widget-score">
                <canvas width="150" class="score-widget-canvas" id="score-widget-average"></canvas>
                    <p>Average Score</p>
                </div>
            </div>
            <div id="graph-widget">
                <canvas width="100%" height="100%"></canvas>
            </div>
        </div>
        <div id="scores-poselist">
            <table>
                <thead>
                    <tr>
                        <th>Pose Name</th>
                        <th>Latest Score</th>
                        <th>Best Score</th>
                        <th>Average Score</th>
                    </tr>
                </thead>
                <tbody id="pose-table-body">
                    <tr>
                        <td>Pose Name</td>
                        <td>0.00</td>
                        <td>0.00</td>
                        <td>0.00</td>
                    </tr>
                    <tr>
                        <td>Pose Name</td>
                        <td>0.00</td>
                        <td>0.00</td>
                        <td>0.00</td>
                    </tr>
                    <tr>
                        <td>Pose Name</td>
                        <td>0.00</td>
                        <td>0.00</td>
                        <td>0.00</td>
                    </tr>
                    <tr>
                        <td>Pose Name</td>
                        <td>0.00</td>
                        <td>0.00</td>
                        <td>0.00</td>
                    </tr>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script>
    const latest_canvas = document.getElementById('score-widget-latest');
    const latest_ctx = latest_canvas.getContext('2d');
    drawGauge(latest_canvas, latest_ctx, 75, '#ddd');
    const best_canvas = document.getElementById('score-widget-best');
    const best_ctx = best_canvas.getContext('2d');
    drawGauge(best_canvas, best_ctx, 95, '#ddd');
    const avg_canvas = document.getElementById('score-widget-average');
    const avg_ctx = avg_canvas.getContext('2d');
    drawGauge(avg_canvas, avg_ctx, 85, '#ddd');

    // Function to draw the gauge
    function drawGauge(canvas, context, percentage, colour) {
        let startAngle = -Math.PI / 2;
        let endAngle = startAngle + (2 * Math.PI * percentage / 100);
        let radius = 60;
        let lineWidth = 20;
        context.clearRect(0, 0, canvas.width, canvas.height);

        context.beginPath();
        context.arc(canvas.width / 2, canvas.height / 2, radius, startAngle, 360);
        context.lineWidth = lineWidth;
        context.strokeStyle = "#333a";
        context.lineCap = "round";
        context.stroke();
        context.closePath();

        context.beginPath();
        context.arc(canvas.width / 2, canvas.height / 2, radius, startAngle, endAngle);
        context.lineWidth = lineWidth;
        context.strokeStyle = colour;
        context.lineCap = "round";
        context.stroke();
        context.closePath();

        context.font = 'bold 45px WorkSans';
        context.font
        context.fillStyle = '#ddd';
        context.textAlign = 'center';
        context.textBaseline = 'middle';
        context.fillText(percentage, canvas.width / 2, canvas.height / 2);
    }
</script>